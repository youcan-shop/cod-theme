{{ 'featured-categories.css' | asset_url | stylesheet_tag }}

{% style %}
  .featured-categories {
    margin-top: {{ section.settings.margin_top }}px;
    margin-bottom: {{ section.settings.margin_bottom }}px;
  } 
  .category-name {
    color: {{ section.settings.category_name_color.hex }};
  }
  
  .slug-name {
    color: {{ section.settings.category_slug_color.hex }}; 
  }
{% endstyle %}

<div class='featured-categories categories-container'>
  {%- for block in section.blocks -%}
    <div class='category-block'>
      <div
        class='product-block'
        {{ block.youcan_attributes }}>
        <div class="category-text">
          <h2 class="category-name">{{ block.settings.category.name }}</h2>
          <p class="slug-name">{{ block.settings.category.slug }}</p>
          {% if block.settings.category.slug %}
            <div class="category-link">
              <a href='/collections/{{ block.settings.category.slug }}'>
                عرض المزيد 
              </a>
            </div>
          {% endif %}
        </div>
        {% if block.settings.category.image %}
            <img src='{{ block.settings.category.image }}' class="category-img">
        {% endif %}
      </div>
    </div>
  {%- endfor -%}
</div> 

{%- schema -%}
  {
    "label": "Featured Categories",
    "settings": [
      {
        "type": "color",
        "id": "category_name_color",
        "label": "Category name color"
      },
      {
        "type": "color",
        "id": "category_slug_color",
        "label": "Category slug color"
      },
      {
        "type": "range",
        "id": "margin_top",
        "label": "Space top",
        "min": 10,
        "max": 100,
        "default": 10,
        "step": 1
      },
      {
        "type": "range",
        "id": "margin_bottom",
        "label": "Space bottom",
        "min": 10,
        "max": 100,
        "default": 10,
        "step": 1
      }
    ],
    "blocks": [
      {
        "label": "Category",
        "limit": 4,
        "type": "category",
        "settings": [
          {
            "type": "category",
            "id": "category",
            "label": "Category"
          }
        ]
      }
    ]
  }
{%- endschema -%}
